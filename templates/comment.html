<div class="card mb-4">
    <div class="card-body">
        <p class="card-text">{{ comment.content }}</p>
        {% if current_user == comment.author %}
            <a href="{{ url_for('edit_comment', comment_id=comment.id) }}" class="btn btn-secondary btn-sm">Edit</a>
        {% endif %}
    </div>
    <div class="card-footer text-muted">
        Posted by {{ comment.author.username }} on {{ comment.date_posted.strftime('%Y-%m-%d') }}
        {% if current_user.is_authenticated %}
            <a href="#" class="btn btn-link btn-sm" onclick="document.getElementById('parent_id').value = '{{ comment.id }}'; document.getElementById('content').focus();">Reply</a>
        {% endif %}
    </div>
    <div class="ml-4">
        {% for reply in comment.replies %}
            {% set comment = reply %}
            {% include 'comment.html' %}
        {% endfor %}
    </div>
</div>
